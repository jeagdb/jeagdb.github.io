<!DOCTYPE html><html><head><meta charSet="utf-8"/><title>Postgres</title><meta name="description" content="Picou website"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="icon" href="/logo512.png"/><meta name="next-head-count" content="5"/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-d38be8d96a62f950.js" defer=""></script><script src="/_next/static/chunks/framework-114634acb84f8baa.js" defer=""></script><script src="/_next/static/chunks/main-a139143a5227dd23.js" defer=""></script><script src="/_next/static/chunks/pages/_app-18345a372db62c77.js" defer=""></script><script src="/_next/static/chunks/996-c5e5aa4c30f33066.js" defer=""></script><script src="/_next/static/chunks/332-0cc86a20e008f9aa.js" defer=""></script><script src="/_next/static/chunks/pages/content/%5Bid%5D-1df61135c26126cd.js" defer=""></script><script src="/_next/static/BE1OICxrDoERAPrfPYeQc/_buildManifest.js" defer=""></script><script src="/_next/static/BE1OICxrDoERAPrfPYeQc/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="sc-b1385f13-0 sc-589c118f-0 ieJVfi jciYvo"><div class="sc-589c118f-1 lkkWbV"><div class="sc-3cc220b2-0 khlqnp"><div class="sc-3cc220b2-1 dzJKZu"><div class="sc-3cc220b2-2 cXfmEn">backend<!-- --> <!-- -->-</div><div selected="" class="sc-3cc220b2-4 dUBOA-D"><div selected="" class="sc-3cc220b2-3 dFhDF"></div><a href="/content/backend-postgresql">postgresql.md</a></div><div class="sc-3cc220b2-4 dUBOAF"><div class="sc-3cc220b2-3 jqa-dhw"></div><a href="/content/backend-rails">rails.md</a></div></div><div class="sc-3cc220b2-1 dzJKZu"><div class="sc-3cc220b2-2 cXfmEn">frontend<!-- --> <!-- -->+</div></div><div class="sc-3cc220b2-1 dzJKZu"><div class="sc-3cc220b2-2 cXfmEn">hardware<!-- --> <!-- -->+</div></div><div class="sc-3cc220b2-1 dzJKZu"><div class="sc-3cc220b2-2 cXfmEn">ops<!-- --> <!-- -->+</div></div><div class="sc-3cc220b2-1 dzJKZu"><div class="sc-3cc220b2-2 cXfmEn">projets<!-- --> <!-- -->+</div></div><div class="sc-3cc220b2-1 dzJKZu"><div class="sc-3cc220b2-2 cXfmEn">reseaux<!-- --> <!-- -->+</div></div></div><div class="sc-418a9469-0 jGQODd sc-589c118f-2 fdCPzv"><div class="sc-418a9469-1 iboOOi"></div><div class="sc-418a9469-2 gAqlWd"><div><h1>Postgres</h1>
<h2>View</h2>
<p>Une view c'est une synthèse d'une requête d'interrogation de la base. On peut la voir comme une table virtuelle qui représente le résultat d'une requête sur la base.</p>
<p>Les avantages des vues sont :</p>
<ul>
<li>d'éviter de taper une requête très longue : la view sert à donner un nom à la requête pour l'utiliser souvent,</li>
<li>de masquer certaines données à certains utilisateurs. En SQL, les protections d'une vue ne sont pas forcément les mêmes que celles des tables sous-jacentes.</li>
</ul>
<h3>Exemple</h3>
<pre><code>  CREATE TABLE Employes (id SERIAL, nom TEXT, departement INTEGER);
  CREATE TABLE Departements (id SERIAL, nom TEXT);
  SELECT e.nom as Employe, d.nom as Departement 
            FROM Employes e,Departements d WHERE e.departement = d.id;
</code></pre>
<p>Avec une view:</p>
<pre><code>  CREATE VIEW ToutLeMonde AS 
         SELECT e.nom as Employe, d.nom as Departement 
                FROM Employes e,Departements d 
                WHERE e.departement = d.id;
</code></pre>
<p>On peut alors écrire:</p>
<pre><code>SELECT * FROM ToutLeMonde ;
</code></pre>
<p>Les vues ne sont pas forcément purement virtuelles. Certains SGBD comme Oracle Database1 permettent de stocker la vue sur disque, elle devient alors un véritable système de cache.</p>
<h2>Materialized views</h2>
<p>Une materialized view c'est une view, et <strong>stockée</strong> pour une utilisation ultérieure.
Étant donné que les données sont pré-calculées, l’interrogation d’une vue matérialisée est plus rapide que l’exécution d’une requête sur la table de base de la vue.
Cette différence de performances peut être significative lorsqu’une requête est exécutée fréquemment ou est suffisamment complexe. Par conséquent, les vues matérialisées peuvent accélérer les opérations d’agrégation, de projection et de sélection coûteuses, en particulier celles qui s’exécutent fréquemment et qui s’exécutent sur de grands ensembles de données.</p>
<p>On l’utilise essentiellement à des fins d'optimisation et de performance dans le cas où la requête associée est particulièrement complexe ou lourde, ou pour faire des réplications de table.</p>
<p><a href="https://docs.snowflake.com/fr/user-guide/views-materialized.html">Plus d'infos</a></p>
</div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"content":{"id":"backend-postgresql","path":"backend/postgresql.md","content":"\u003ch1\u003ePostgres\u003c/h1\u003e\n\u003ch2\u003eView\u003c/h2\u003e\n\u003cp\u003eUne view c'est une synthèse d'une requête d'interrogation de la base. On peut la voir comme une table virtuelle qui représente le résultat d'une requête sur la base.\u003c/p\u003e\n\u003cp\u003eLes avantages des vues sont :\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ed'éviter de taper une requête très longue : la view sert à donner un nom à la requête pour l'utiliser souvent,\u003c/li\u003e\n\u003cli\u003ede masquer certaines données à certains utilisateurs. En SQL, les protections d'une vue ne sont pas forcément les mêmes que celles des tables sous-jacentes.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eExemple\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003e  CREATE TABLE Employes (id SERIAL, nom TEXT, departement INTEGER);\n  CREATE TABLE Departements (id SERIAL, nom TEXT);\n  SELECT e.nom as Employe, d.nom as Departement \n            FROM Employes e,Departements d WHERE e.departement = d.id;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAvec une view:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e  CREATE VIEW ToutLeMonde AS \n         SELECT e.nom as Employe, d.nom as Departement \n                FROM Employes e,Departements d \n                WHERE e.departement = d.id;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eOn peut alors écrire:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eSELECT * FROM ToutLeMonde ;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eLes vues ne sont pas forcément purement virtuelles. Certains SGBD comme Oracle Database1 permettent de stocker la vue sur disque, elle devient alors un véritable système de cache.\u003c/p\u003e\n\u003ch2\u003eMaterialized views\u003c/h2\u003e\n\u003cp\u003eUne materialized view c'est une view, et \u003cstrong\u003estockée\u003c/strong\u003e pour une utilisation ultérieure.\nÉtant donné que les données sont pré-calculées, l’interrogation d’une vue matérialisée est plus rapide que l’exécution d’une requête sur la table de base de la vue.\nCette différence de performances peut être significative lorsqu’une requête est exécutée fréquemment ou est suffisamment complexe. Par conséquent, les vues matérialisées peuvent accélérer les opérations d’agrégation, de projection et de sélection coûteuses, en particulier celles qui s’exécutent fréquemment et qui s’exécutent sur de grands ensembles de données.\u003c/p\u003e\n\u003cp\u003eOn l’utilise essentiellement à des fins d'optimisation et de performance dans le cas où la requête associée est particulièrement complexe ou lourde, ou pour faire des réplications de table.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://docs.snowflake.com/fr/user-guide/views-materialized.html\"\u003ePlus d'infos\u003c/a\u003e\u003c/p\u003e\n","title":"Postgres"}},"__N_SSG":true},"page":"/content/[id]","query":{"id":"backend-postgresql"},"buildId":"BE1OICxrDoERAPrfPYeQc","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>