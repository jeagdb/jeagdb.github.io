(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[122],{7956:function(e,i,t){"use strict";var n=(0,t(9521).vJ)(["*,*::before,*::after{box-sizing:border-box;}#__next{height:100%;width:100%;}html{height:100%;margin:0;}body{margin:0;height:100%;color:white;font-family:'Roboto',sans-serif;background-image:black;*::-webkit-scrollbar{width:4px;}*::-webkit-scrollbar-thumb{background:white;transition:.5s;}}a{text-decoration:none;color:inherit;&:hover{text-decoration:none;}}img{max-width:100%;}pre{background:grey;padding:2px 4px;border-radius:10px;}code{background:grey;padding:0px 4px;border-radius:10px;white-space:pre-wrap;}"]);i.Z=n},8724:function(e,i,t){"use strict";var n=t(1664),r=t.n(n),s=t(9521),o=t(9417),c=t(9603),a=t(5893),l=(0,s.ZP)(c.G).withConfig({displayName:"HomeButton",componentId:"sc-1snf18r-0"})(["position:absolute;top:0;width:24px;height:24px;top:8px;left:12px;padding:4px;cursor:pointer;"]);i.Z=function(){return(0,a.jsx)(r(),{href:"/",children:(0,a.jsx)(l,{icon:o.wp6,color:"white"})})}},4772:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return et}});var n,r,s,o,c,a=t(4660),l=t(9521),p=t(7294),d=t(6486),u=t(7851),h=t(8724),g=t(7812),f=t(9417),x=t(9603),m=t(5893),w=l.ZP.div.withConfig({displayName:"SpriteSlice__Container",componentId:"sc-ec4o3g-0"})(["width:100%;height:90%;"]),y=l.ZP.div.withConfig({displayName:"SpriteSlice__FileWrapper",componentId:"sc-ec4o3g-1"})(["border:1px solid white;padding:8px;border-radius:5px;cursor:pointer;width:fit-content;height:fit-content;color:",";background-color:",";"],function(e){return e.selected?"grey":"white"},function(e){return e.selected?"white":"transparent"}),_=l.ZP.div.withConfig({displayName:"SpriteSlice__FileButton",componentId:"sc-ec4o3g-2"})(["display:flex;align-items:center;gap:8px;"]),C=l.ZP.input.withConfig({displayName:"SpriteSlice__InputFile",componentId:"sc-ec4o3g-3"})([""]),S=l.ZP.canvas.withConfig({displayName:"SpriteSlice__Canvas",componentId:"sc-ec4o3g-4"})(["object-fit:contain;"]),b=l.ZP.div.withConfig({displayName:"SpriteSlice__Settings",componentId:"sc-ec4o3g-5"})(["display:flex;gap:16px;margin:16px 0;",""],u.Z.lessThan("m")(n||(n=(0,a.Z)(["\n    flex-direction: column;\n  "])))),v=l.ZP.div.withConfig({displayName:"SpriteSlice__SpriteSettings",componentId:"sc-ec4o3g-6"})(["display:flex;gap:8px;",""],u.Z.lessThan("m")(r||(r=(0,a.Z)(["\n    flex-direction: column;\n  "])))),j=l.ZP.div.withConfig({displayName:"SpriteSlice__Inline",componentId:"sc-ec4o3g-7"})(["display:flex;gap:8px;align-items:center;"]),Z=l.ZP.div.withConfig({displayName:"SpriteSlice__Count",componentId:"sc-ec4o3g-8"})(["min-width:50px;"]),I=l.ZP.input.withConfig({displayName:"SpriteSlice__Slider",componentId:"sc-ec4o3g-9"})(["min-width:200px;width:200px;"]),k=l.ZP.div.withConfig({displayName:"SpriteSlice__Button",componentId:"sc-ec4o3g-10"})(["padding:2px;width:","px;height:","px;border:1px solid white;border-radius:20px;cursor:pointer;"],function(e){return e.width},function(e){return e.height}),N=l.ZP.div.withConfig({displayName:"SpriteSlice__Block",componentId:"sc-ec4o3g-11"})(["display:flex;flex-direction:column;gap:8px;"]),P=l.ZP.div.withConfig({displayName:"SpriteSlice__CanvasWrapper",componentId:"sc-ec4o3g-12"})(["max-width:70%;height:80%;overflow:auto;",""],u.Z.lessThan("m")(s||(s=(0,a.Z)(["\n    max-width: 100%;\n    height: 70%;\n  "])))),E=(0,l.ZP)(x.G).withConfig({displayName:"SpriteSlice__SpritesheetButton",componentId:"sc-ec4o3g-13"})(["width:20px;height:20px;"]),z=function(e){var i=e.width,t=e.height,n=e.sprites,r=e.updateWidth,s=e.updateHeight,o=e.updateSprites,c=(0,p.useState)((0,d.get)(n,"file","images/spritesheet.png")),a=c[0],l=c[1],u=(0,p.useState)((0,d.get)(n,"selectedSprites",[])),h=u[0],z=u[1],T=(0,p.useRef)(),V=(0,p.useRef)(),R=(0,p.useRef)(null),q=(0,p.useCallback)(function(e){e.target.files&&e.target.files[0]&&l(URL.createObjectURL(e.target.files[0]))},[l]),X=(0,p.useCallback)(function(){R.current.click()},[]),B=(0,p.useCallback)(function(e){return r(parseInt((0,d.get)(e,"target.value",i)))},[i,r]),G=(0,p.useCallback)(function(e){return s(parseInt((0,d.get)(e,"target.value",t)))},[t,s]),W=(0,p.useCallback)(function(e,i,t){return e((0,d.isEqual)(t,"+")?i+1:i-1)},[]),Y=(0,p.useCallback)(function(e){if(V.current){var n=T.current.getBoundingClientRect(),r=T.current.width/n.width,s=T.current.height/n.height,o=(e.clientX-n.left)*r,c=(e.clientY-n.top)*s,a=Math.floor(o/i),l=Math.floor(c/t),p={spriteX:a,spriteY:l},u=(0,d.some)(h,function(e){return(0,d.isEqual)(e.spriteX,a)&&(0,d.isEqual)(e.spriteY,l)});z(function(e){return u?(0,d.filter)(e,function(e){return!(0,d.isEqual)(e.spriteX,a)||!(0,d.isEqual)(e.spriteY,l)}):[].concat((0,g.Z)(e),[p])})}},[i,t,h,z]),L=(0,p.useCallback)(function(){if(V.current&&!(0,d.isEmpty)(h)){var e=V.current;e.lineWidth=2,e.strokeStyle="blue";for(var n=0;n<h.length;n++){var r=h[n],s=r.spriteX,o=r.spriteY;e.strokeRect(s*i,o*t,i,t)}}},[i,t,h]);return(0,p.useEffect)(function(){if(T.current&&a){var e=T.current,n=e.getContext("2d");V.current=n;var r=new Image;r.src=a,r.onload=function(){e.width=r.width,e.height=r.height,n.drawImage(r,0,0,r.width,r.height),n.strokeStyle="red";for(var s=0;s<r.width;s+=i)for(var o=0;o<r.height;o+=t)n.strokeRect(s,o,i,t);L()}}},[a,i,t,L]),(0,p.useEffect)(function(){o({file:a,width:i,height:t,selectedSprites:h})},[o,h,i,t,a]),(0,m.jsxs)(w,{children:[(0,m.jsxs)(b,{children:[(0,m.jsxs)(y,{onClick:X,children:[(0,m.jsx)(C,{ref:R,type:"file",style:{display:"none"},onChange:q}),(0,m.jsxs)(_,{children:[(0,m.jsx)("span",{children:"Choisir une spritesheet"}),(0,m.jsx)(E,{icon:f.r8p})]})]}),!(0,d.isUndefined)(a)&&(0,m.jsxs)(v,{children:[(0,m.jsxs)(N,{children:[(0,m.jsxs)(j,{children:[(0,m.jsxs)(Z,{children:["x : ",i]}),(0,m.jsx)(I,{type:"range",min:"1",max:"200",value:i,onChange:B}),(0,m.jsx)(k,{width:20,height:20,onClick:function(){return W(r,i,"+")},children:(0,m.jsx)(x.G,{icon:f.r8p})}),(0,m.jsx)(k,{width:20,height:20,onClick:function(){return W(r,i,"-")},children:(0,m.jsx)(x.G,{icon:f.Kl4})})]}),(0,m.jsxs)(j,{children:[(0,m.jsxs)(Z,{children:["y : ",t]}),(0,m.jsx)(I,{type:"range",min:"1",max:"200",value:t,onChange:G}),(0,m.jsx)(k,{width:20,height:20,onClick:function(){return W(s,t,"+")},children:(0,m.jsx)(x.G,{icon:f.r8p})}),(0,m.jsx)(k,{width:20,height:20,onClick:function(){return W(s,t,"-")},children:(0,m.jsx)(x.G,{icon:f.Kl4})})]})]}),(0,m.jsxs)("span",{children:["Sprites s\xe9lectionn\xe9s: ",(0,d.size)(h)]})]})]}),(0,m.jsx)(P,{children:(0,m.jsx)(S,{ref:T,onClick:Y})})]})},T=t(7956),V=t(6835),R=t(6963),q=t(9272),X=t(9294),B=t(8493),G=l.ZP.div.withConfig({displayName:"SpriteVisualizer__Container",componentId:"sc-1lpubyy-0"})(["display:flex;flex-direction:column;gap:16px;margin-top:24px;"]),W=l.ZP.div.withConfig({displayName:"SpriteVisualizer__Tiles",componentId:"sc-1lpubyy-1"})(["display:flex;gap:4px;flex-wrap:wrap;"]),Y=l.ZP.div.withConfig({displayName:"SpriteVisualizer__Button",componentId:"sc-1lpubyy-2"})(["width:fit-content;border:1px solid white;border-radius:5px;padding:4px;cursor:pointer;"]),L=l.ZP.div.withConfig({displayName:"SpriteVisualizer__Visualizer",componentId:"sc-1lpubyy-3"})(["display:flex;flex-direction:column;gap:8px;"]),F=l.ZP.div.withConfig({displayName:"SpriteVisualizer__Settings",componentId:"sc-1lpubyy-4"})(["display:flex;"]),U=l.ZP.div.withConfig({displayName:"SpriteVisualizer__Inline",componentId:"sc-1lpubyy-5"})(["display:flex;gap:8px;align-items:center;"]),H=l.ZP.div.withConfig({displayName:"SpriteVisualizer__Count",componentId:"sc-1lpubyy-6"})(["min-width:50px;"]),K=l.ZP.input.withConfig({displayName:"SpriteVisualizer__Slider",componentId:"sc-1lpubyy-7"})(["min-width:200px;width:200px;"]),O=l.ZP.div.withConfig({displayName:"SpriteVisualizer__SettingsButton",componentId:"sc-1lpubyy-8"})(["padding:2px;width:","px;height:","px;border:1px solid white;border-radius:20px;cursor:pointer;"],function(e){return e.width},function(e){return e.height}),J=l.ZP.div.withConfig({displayName:"SpriteVisualizer__CanvasWrapper",componentId:"sc-1lpubyy-9"})(["overflow:auto;"]),M=l.ZP.canvas.withConfig({displayName:"SpriteVisualizer__Test",componentId:"sc-1lpubyy-10"})(["width:200px;",""],u.Z.lessThan("m")(o||(o=(0,a.Z)(["\n    width: 100%;\n  "])))),D=function(e){var i=e.sprite,t=e.index,n=e.moveTile,r=e.width,s=e.height,o=e.file,c=(0,p.useRef)(null),a=(0,q.L)({accept:"TILE",hover:function(e){e.index!==t&&(n(e.index,t),e.index=t)}}),l=(0,V.Z)(a,2)[1],d=(0,X.c)({type:"TILE",item:{index:t}});return(0,(0,V.Z)(d,2)[1])(l(c)),(0,p.useEffect)(function(){var e=c.current;if(e){var t=e.getContext("2d");t.clearRect(0,0,r,s);var n=new Image;n.onload=function(){t.drawImage(n,i.spriteX*r,i.spriteY*s,r,s,0,0,r,s)},n.src=o}},[i,o,r,s]),(0,m.jsx)("canvas",{ref:c,width:r,height:s})},A=function(e){var i=e.sprites,t=(0,p.useState)(150),n=t[0],r=t[1],s=(0,p.useState)(!1),o=s[0],c=s[1],a=(0,p.useState)(0),l=a[0],u=a[1],h=(0,p.useState)((0,d.get)(i,"selectedSprites",[])),w=h[0],y=h[1],_=(0,d.get)(i,"file"),C=(0,d.get)(i,"width"),S=(0,d.get)(i,"height"),b=(0,p.useCallback)(function(e){return r(parseInt((0,d.get)(e,"target.value",n)))},[n,r]),v=(0,p.useCallback)(function(e,i,t){return e((0,d.isEqual)(t,"+")?i+1:i-1)},[]),j=(0,p.useCallback)(function(e,i){var t=(0,g.Z)(w),n=t.splice(e,1),r=(0,V.Z)(n,1)[0];t.splice(i,0,r),y(t)},[w,y]);return((0,p.useEffect)(function(){var e;return o&&w.length>0&&(e=setInterval(function(){u(function(e){return(e+1)%w.length})},n)),function(){e&&clearInterval(e)}},[n,o,w]),(0,p.useEffect)(function(){y((0,d.get)(i,"selectedSprites",[]))},[i]),(0,d.isUndefined)(_))?(0,m.jsx)(G,{children:(0,m.jsx)("span",{children:'Veuillez charger une spritesheet dans l\'onglet "S\xe9lection"'})}):(0,d.isEmpty)(w)?(0,m.jsx)(G,{children:(0,m.jsx)("span",{children:'Veuillez s\xe9lectionner des sprites dans l\'onglet "S\xe9lection"'})}):(0,m.jsx)(B.W,{backend:R.PD,children:(0,m.jsxs)(G,{children:[(0,m.jsx)(W,{children:(0,d.map)(w,function(e,i){return(0,m.jsx)(D,{sprite:e,index:i,moveTile:j,width:C,height:S,file:_},i)})}),(0,m.jsx)(Y,{onClick:function(){c(!o)},children:o?"Pause":"Play"}),(0,m.jsxs)(L,{children:[(0,m.jsx)(F,{children:(0,m.jsxs)(U,{children:[(0,m.jsxs)(H,{children:[n," ms/image"]}),(0,m.jsx)(K,{type:"range",min:"50",max:"300",value:n,onChange:b}),(0,m.jsx)(O,{width:20,height:20,onClick:function(){return v(r,n,"+")},children:(0,m.jsx)(x.G,{icon:f.r8p})}),(0,m.jsx)(O,{width:20,height:20,onClick:function(){return v(r,n,"-")},children:(0,m.jsx)(x.G,{icon:f.Kl4})})]})}),(0,m.jsx)(J,{children:(0,m.jsx)(M,{width:C,height:S,ref:function(e){if(null!=e){var i=e.getContext("2d"),t=new Image;t.onload=function(){i.drawImage(t,w[l].spriteX*C,w[l].spriteY*S,C,S,0,0,C,S)},t.src=_}}})})]})]})})},Q=l.ZP.div.withConfig({displayName:"sprite-slicer__Container",componentId:"sc-93elk2-0"})(["display:flex;width:100%;height:100%;background:grey;padding:24px;flex-direction:column;",""],u.Z.lessThan("m")(c||(c=(0,a.Z)(["\n  "])))),$=l.ZP.div.withConfig({displayName:"sprite-slicer__Tabs",componentId:"sc-93elk2-1"})(["display:flex;gap:16px;cursor:pointer;margin-top:24px;width:100%;border:1px solid white;border-top:none;border-left:none;border-right:none;"]),ee=l.ZP.div.withConfig({displayName:"sprite-slicer__Tab",componentId:"sc-93elk2-2"})(["border:"," solid white;border-bottom:none;border-top-left-radius:10px 10px;padding:8px;font-weight:",";"],function(e){return e.selected?"2px":"1px"},function(e){return e.selected?"600":"400"}),ei=["s\xe9lection","animation"],et=function(){var e=(0,p.useState)(80),i=e[0],t=e[1],n=(0,p.useState)(80),r=n[0],s=n[1],o=(0,p.useState)({}),c=o[0],a=o[1],l=(0,p.useState)(ei[0]),u=l[0],g=l[1],f=(0,p.useCallback)(function(e){return g(e)},[g]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(T.Z,{}),(0,m.jsxs)(Q,{children:[(0,m.jsx)(h.Z,{}),(0,m.jsx)($,{children:(0,d.map)(ei,function(e){return(0,m.jsx)(ee,{selected:(0,d.isEqual)(e,u),onClick:function(){return f(e)},children:(0,d.capitalize)(e)})})}),(0,d.isEqual)(u,"s\xe9lection")&&(0,m.jsx)(z,{width:i,height:r,sprites:c,updateWidth:t,updateHeight:s,updateSprites:a}),(0,d.isEqual)(u,"animation")&&(0,m.jsx)(A,{sprites:c})]})]})}},7851:function(e,i,t){"use strict";t(6486);var n=(0,t(605).Jq)({s:"577px",m:"769px",l:"993px",xl:"1401px"});i.Z=n},5282:function(e,i,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sprite-slicer",function(){return t(4772)}])}},function(e){e.O(0,[662,976,476,603,754,774,888,179],function(){return e(e.s=5282)}),_N_E=e.O()}]);