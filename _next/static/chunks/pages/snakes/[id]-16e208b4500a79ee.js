(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[387],{236:(t,r,e)=>{"use strict";e.d(r,{A:()=>u});var n=e(1683),o=e(7430);function u(t){return function(t){if(Array.isArray(t))return(0,n.A)(t)}(t)||function(t){if("u">typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||(0,o.A)(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1480:(t,r,e)=>{t.exports=e(8194)},1683:(t,r,e)=>{"use strict";function n(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=Array(r);e<r;e++)n[e]=t[e];return n}e.d(r,{A:()=>n})},2762:(t,r,e)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/snakes/[id]",function(){return e(7206)}])},7206:(t,r,e)=>{"use strict";e.r(r),e.d(r,{default:()=>s});var n=e(236),o=e(4232),u=e(1480),i=e(7657),a=e(7876);let s=function(){var t=(0,u.useRouter)(),r=(0,o.useContext)(i.A),e=t.query.id,s=(0,o.useState)(""),c=s[0],l=s[1],f=(0,o.useState)(""),d=(f[0],f[1]),A=(0,o.useState)(""),p=A[0],v=A[1],h=(0,o.useState)([]),y=h[0],E=h[1],m=(0,o.useState)(null),_=(m[0],m[1]);(0,o.useEffect)(function(){if(e){var t=r.channel("room:".concat(e));return _(t),t.on("user_joined",function(t){E(function(r){return[].concat((0,n.A)(r),[t.pseudo])})}),t.join().receive("ok",function(t){l(t.host),v(t.pseudo),E(t.players)}).receive("error",function(t){d(t)}),function(){t.leave()}}},[e,r]);var b=(0,o.useCallback)(function(){alert("LANCEMENT")},[]);return(0,a.jsxs)("div",{children:["PARTIE ",e,"HOST ",c,"JOUEURS:",y.map(function(t){return(0,a.jsxs)("div",{children:[t,t===c?"(chef)":""]},t)}),p===c&&(0,a.jsx)("button",{onClick:b,children:"COMMENCER LA PARTIE"})]})}},7430:(t,r,e)=>{"use strict";e.d(r,{A:()=>o});var n=e(1683);function o(t,r){if(t){if("string"==typeof t)return(0,n.A)(t,r);var e=({}).toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?(0,n.A)(t,r):void 0}}}},t=>{t.O(0,[636,593,792],()=>t(t.s=2762)),_N_E=t.O()}]);