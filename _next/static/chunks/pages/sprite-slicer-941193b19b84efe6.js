(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[122],{7956:function(e,i,t){"use strict";var n=(0,t(9521).vJ)(["*,*::before,*::after{box-sizing:border-box;}#__next{height:100%;width:100%;}html{height:100%;margin:0;}body{margin:0;height:100%;color:white;font-family:'Roboto',sans-serif;background-image:black;*::-webkit-scrollbar{width:4px;}*::-webkit-scrollbar-thumb{background:white;transition:.5s;}}a{text-decoration:none;color:inherit;&:hover{text-decoration:none;}}img{max-width:100%;}pre{background:grey;padding:2px 4px;border-radius:10px;}code{background:grey;padding:0px 4px;border-radius:10px;white-space:pre-wrap;}"]);i.Z=n},8724:function(e,i,t){"use strict";var n=t(1664),r=t.n(n),s=t(9521),o=t(9417),c=t(9603),a=t(5893),l=(0,s.ZP)(c.G).withConfig({displayName:"HomeButton",componentId:"sc-1snf18r-0"})(["position:absolute;top:0;width:16px;height:16px;top:8px;left:12px;padding:4px;cursor:pointer;"]);i.Z=function(){return(0,a.jsx)(r(),{href:"/",children:(0,a.jsx)(l,{icon:o.wp6,color:"white",fontSize:10})})}},4772:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return ei}});var n,r,s,o,c,a=t(4660),l=t(9521),d=t(7294),p=t(6486),u=t(7851),h=t(8724),f=t(7812),g=t(9417),x=t(9603),m=t(5893),w=l.ZP.div.withConfig({displayName:"SpriteSlice__Container",componentId:"sc-ec4o3g-0"})(["width:100%;height:90%;"]),y=l.ZP.div.withConfig({displayName:"SpriteSlice__FileWrapper",componentId:"sc-ec4o3g-1"})(["border:1px solid white;padding:8px;border-radius:5px;cursor:pointer;width:fit-content;height:fit-content;color:",";background-color:",";"],function(e){return e.selected?"grey":"white"},function(e){return e.selected?"white":"transparent"}),C=l.ZP.div.withConfig({displayName:"SpriteSlice__FileButton",componentId:"sc-ec4o3g-2"})(["display:flex;align-items:center;gap:8px;"]),_=l.ZP.input.withConfig({displayName:"SpriteSlice__InputFile",componentId:"sc-ec4o3g-3"})([""]),b=l.ZP.canvas.withConfig({displayName:"SpriteSlice__Canvas",componentId:"sc-ec4o3g-4"})(["object-fit:contain;"]),S=l.ZP.div.withConfig({displayName:"SpriteSlice__Settings",componentId:"sc-ec4o3g-5"})(["display:flex;gap:16px;margin:16px 0;",""],u.Z.lessThan("m")(n||(n=(0,a.Z)(["\n    flex-direction: column;\n  "])))),v=l.ZP.div.withConfig({displayName:"SpriteSlice__SpriteSettings",componentId:"sc-ec4o3g-6"})(["display:flex;gap:8px;",""],u.Z.lessThan("m")(r||(r=(0,a.Z)(["\n    flex-direction: column;\n  "])))),j=l.ZP.div.withConfig({displayName:"SpriteSlice__Inline",componentId:"sc-ec4o3g-7"})(["display:flex;gap:8px;align-items:center;"]),Z=l.ZP.div.withConfig({displayName:"SpriteSlice__Count",componentId:"sc-ec4o3g-8"})(["min-width:50px;"]),k=l.ZP.input.withConfig({displayName:"SpriteSlice__Slider",componentId:"sc-ec4o3g-9"})(["min-width:200px;width:200px;"]),I=l.ZP.div.withConfig({displayName:"SpriteSlice__Button",componentId:"sc-ec4o3g-10"})(["padding:2px;width:","px;height:","px;border:1px solid white;border-radius:20px;cursor:pointer;"],function(e){return e.width},function(e){return e.height}),N=l.ZP.div.withConfig({displayName:"SpriteSlice__Block",componentId:"sc-ec4o3g-11"})(["display:flex;flex-direction:column;gap:8px;"]),P=l.ZP.div.withConfig({displayName:"SpriteSlice__CanvasWrapper",componentId:"sc-ec4o3g-12"})(["max-width:70%;height:80%;overflow:auto;",""],u.Z.lessThan("m")(s||(s=(0,a.Z)(["\n    max-width: 100%;\n    height: 70%;\n  "])))),E=function(e){var i=e.width,t=e.height,n=e.sprites,r=e.updateWidth,s=e.updateHeight,o=e.updateSprites,c=(0,d.useState)((0,p.get)(n,"file","images/spritesheet.png")),a=c[0],l=c[1],u=(0,d.useState)((0,p.get)(n,"selectedSprites",[])),h=u[0],E=u[1],z=(0,d.useRef)(),T=(0,d.useRef)(),V=(0,d.useRef)(null),R=(0,d.useCallback)(function(e){e.target.files&&e.target.files[0]&&l(URL.createObjectURL(e.target.files[0]))},[l]),q=(0,d.useCallback)(function(){V.current.click()},[]),X=(0,d.useCallback)(function(e){return r(parseInt((0,p.get)(e,"target.value",i)))},[i,r]),G=(0,d.useCallback)(function(e){return s(parseInt((0,p.get)(e,"target.value",t)))},[t,s]),B=(0,d.useCallback)(function(e,i,t){return e((0,p.isEqual)(t,"+")?i+1:i-1)},[]),W=(0,d.useCallback)(function(e){if(T.current){var n=z.current.getBoundingClientRect(),r=z.current.width/n.width,s=z.current.height/n.height,o=(e.clientX-n.left)*r,c=(e.clientY-n.top)*s,a=Math.floor(o/i),l=Math.floor(c/t),d={spriteX:a,spriteY:l},u=(0,p.some)(h,function(e){return(0,p.isEqual)(e.spriteX,a)&&(0,p.isEqual)(e.spriteY,l)});E(function(e){return u?(0,p.filter)(e,function(e){return!(0,p.isEqual)(e.spriteX,a)||!(0,p.isEqual)(e.spriteY,l)}):[].concat((0,f.Z)(e),[d])})}},[i,t,h,E]),Y=(0,d.useCallback)(function(){if(T.current&&!(0,p.isEmpty)(h)){var e=T.current;e.lineWidth=2,e.strokeStyle="blue";for(var n=0;n<h.length;n++){var r=h[n],s=r.spriteX,o=r.spriteY;e.strokeRect(s*i,o*t,i,t)}}},[i,t,h]);return(0,d.useEffect)(function(){if(z.current&&a){var e=z.current,n=e.getContext("2d");T.current=n;var r=new Image;r.src=a,r.onload=function(){e.width=r.width,e.height=r.height,n.drawImage(r,0,0,r.width,r.height),n.strokeStyle="red";for(var s=0;s<r.width;s+=i)for(var o=0;o<r.height;o+=t)n.strokeRect(s,o,i,t);Y()}}},[a,i,t,Y]),(0,d.useEffect)(function(){o({file:a,width:i,height:t,selectedSprites:h})},[o,h,i,t,a]),(0,m.jsxs)(w,{children:[(0,m.jsxs)(S,{children:[(0,m.jsxs)(y,{onClick:q,children:[(0,m.jsx)(_,{ref:V,type:"file",style:{display:"none"},onChange:R}),(0,m.jsxs)(C,{children:[(0,m.jsx)("span",{children:"Choisir une spritesheet"}),(0,m.jsx)(x.G,{icon:g.r8p,size:"sm"})]})]}),!(0,p.isUndefined)(a)&&(0,m.jsxs)(v,{children:[(0,m.jsxs)(N,{children:[(0,m.jsxs)(j,{children:[(0,m.jsxs)(Z,{children:["x : ",i]}),(0,m.jsx)(k,{type:"range",min:"1",max:"200",value:i,onChange:X}),(0,m.jsx)(I,{width:20,height:20,onClick:function(){return B(r,i,"+")},children:(0,m.jsx)(x.G,{icon:g.r8p})}),(0,m.jsx)(I,{width:20,height:20,onClick:function(){return B(r,i,"-")},children:(0,m.jsx)(x.G,{icon:g.Kl4})})]}),(0,m.jsxs)(j,{children:[(0,m.jsxs)(Z,{children:["y : ",t]}),(0,m.jsx)(k,{type:"range",min:"1",max:"200",value:t,onChange:G}),(0,m.jsx)(I,{width:20,height:20,onClick:function(){return B(s,t,"+")},children:(0,m.jsx)(x.G,{icon:g.r8p})}),(0,m.jsx)(I,{width:20,height:20,onClick:function(){return B(s,t,"-")},children:(0,m.jsx)(x.G,{icon:g.Kl4})})]})]}),(0,m.jsxs)("span",{children:["Sprites s\xe9lectionn\xe9s: ",(0,p.size)(h)]})]})]}),(0,m.jsx)(P,{children:(0,m.jsx)(b,{ref:z,onClick:W})})]})},z=t(7956),T=t(6835),V=t(6963),R=t(9272),q=t(9294),X=t(8493),G=l.ZP.div.withConfig({displayName:"SpriteVisualizer__Container",componentId:"sc-1lpubyy-0"})(["display:flex;flex-direction:column;gap:16px;margin-top:24px;"]),B=l.ZP.div.withConfig({displayName:"SpriteVisualizer__Tiles",componentId:"sc-1lpubyy-1"})(["display:flex;gap:4px;flex-wrap:wrap;"]),W=l.ZP.div.withConfig({displayName:"SpriteVisualizer__Button",componentId:"sc-1lpubyy-2"})(["width:fit-content;border:1px solid white;border-radius:5px;padding:4px;cursor:pointer;"]),Y=l.ZP.div.withConfig({displayName:"SpriteVisualizer__Visualizer",componentId:"sc-1lpubyy-3"})(["display:flex;flex-direction:column;gap:8px;"]),L=l.ZP.div.withConfig({displayName:"SpriteVisualizer__Settings",componentId:"sc-1lpubyy-4"})(["display:flex;"]),F=l.ZP.div.withConfig({displayName:"SpriteVisualizer__Inline",componentId:"sc-1lpubyy-5"})(["display:flex;gap:8px;align-items:center;"]),U=l.ZP.div.withConfig({displayName:"SpriteVisualizer__Count",componentId:"sc-1lpubyy-6"})(["min-width:50px;"]),H=l.ZP.input.withConfig({displayName:"SpriteVisualizer__Slider",componentId:"sc-1lpubyy-7"})(["min-width:200px;width:200px;"]),K=l.ZP.div.withConfig({displayName:"SpriteVisualizer__SettingsButton",componentId:"sc-1lpubyy-8"})(["padding:2px;width:","px;height:","px;border:1px solid white;border-radius:20px;cursor:pointer;"],function(e){return e.width},function(e){return e.height}),O=l.ZP.div.withConfig({displayName:"SpriteVisualizer__CanvasWrapper",componentId:"sc-1lpubyy-9"})(["overflow:auto;"]),J=l.ZP.canvas.withConfig({displayName:"SpriteVisualizer__Test",componentId:"sc-1lpubyy-10"})(["width:200px;",""],u.Z.lessThan("m")(o||(o=(0,a.Z)(["\n    width: 100%;\n  "])))),M=function(e){var i=e.sprite,t=e.index,n=e.moveTile,r=e.width,s=e.height,o=e.file,c=(0,d.useRef)(null),a=(0,R.L)({accept:"TILE",hover:function(e){e.index!==t&&(n(e.index,t),e.index=t)}}),l=(0,T.Z)(a,2)[1],p=(0,q.c)({type:"TILE",item:{index:t}});return(0,(0,T.Z)(p,2)[1])(l(c)),(0,d.useEffect)(function(){var e=c.current;if(e){var t=e.getContext("2d");t.clearRect(0,0,r,s);var n=new Image;n.onload=function(){t.drawImage(n,i.spriteX*r,i.spriteY*s,r,s,0,0,r,s)},n.src=o}},[i,o,r,s]),(0,m.jsx)("canvas",{ref:c,width:r,height:s})},D=function(e){var i=e.sprites,t=(0,d.useState)(150),n=t[0],r=t[1],s=(0,d.useState)(!1),o=s[0],c=s[1],a=(0,d.useState)(0),l=a[0],u=a[1],h=(0,d.useState)((0,p.get)(i,"selectedSprites",[])),w=h[0],y=h[1],C=(0,p.get)(i,"file"),_=(0,p.get)(i,"width"),b=(0,p.get)(i,"height"),S=(0,d.useCallback)(function(e){return r(parseInt((0,p.get)(e,"target.value",n)))},[n,r]),v=(0,d.useCallback)(function(e,i,t){return e((0,p.isEqual)(t,"+")?i+1:i-1)},[]),j=(0,d.useCallback)(function(e,i){var t=(0,f.Z)(w),n=t.splice(e,1),r=(0,T.Z)(n,1)[0];t.splice(i,0,r),y(t)},[w,y]);return((0,d.useEffect)(function(){var e;return o&&w.length>0&&(e=setInterval(function(){u(function(e){return(e+1)%w.length})},n)),function(){e&&clearInterval(e)}},[n,o,w]),(0,d.useEffect)(function(){y((0,p.get)(i,"selectedSprites",[]))},[i]),(0,p.isUndefined)(C))?(0,m.jsx)(G,{children:(0,m.jsx)("span",{children:'Veuillez charger une spritesheet dans l\'onglet "S\xe9lection"'})}):(0,p.isEmpty)(w)?(0,m.jsx)(G,{children:(0,m.jsx)("span",{children:'Veuillez s\xe9lectionner des sprites dans l\'onglet "S\xe9lection"'})}):(0,m.jsx)(X.W,{backend:V.PD,children:(0,m.jsxs)(G,{children:[(0,m.jsx)(B,{children:(0,p.map)(w,function(e,i){return(0,m.jsx)(M,{sprite:e,index:i,moveTile:j,width:_,height:b,file:C},i)})}),(0,m.jsx)(W,{onClick:function(){c(!o)},children:o?"Pause":"Play"}),(0,m.jsxs)(Y,{children:[(0,m.jsx)(L,{children:(0,m.jsxs)(F,{children:[(0,m.jsxs)(U,{children:[n," ms/image"]}),(0,m.jsx)(H,{type:"range",min:"50",max:"300",value:n,onChange:S}),(0,m.jsx)(K,{width:20,height:20,onClick:function(){return v(r,n,"+")},children:(0,m.jsx)(x.G,{icon:g.r8p})}),(0,m.jsx)(K,{width:20,height:20,onClick:function(){return v(r,n,"-")},children:(0,m.jsx)(x.G,{icon:g.Kl4})})]})}),(0,m.jsx)(O,{children:(0,m.jsx)(J,{width:_,height:b,ref:function(e){if(null!=e){var i=e.getContext("2d"),t=new Image;t.onload=function(){i.drawImage(t,w[l].spriteX*_,w[l].spriteY*b,_,b,0,0,_,b)},t.src=C}}})})]})]})})},A=l.ZP.div.withConfig({displayName:"sprite-slicer__Container",componentId:"sc-93elk2-0"})(["display:flex;width:100%;height:100%;background:grey;padding:24px;flex-direction:column;",""],u.Z.lessThan("m")(c||(c=(0,a.Z)(["\n  "])))),Q=l.ZP.div.withConfig({displayName:"sprite-slicer__Tabs",componentId:"sc-93elk2-1"})(["display:flex;gap:16px;cursor:pointer;margin-top:24px;width:100%;border:1px solid white;border-top:none;border-left:none;border-right:none;"]),$=l.ZP.div.withConfig({displayName:"sprite-slicer__Tab",componentId:"sc-93elk2-2"})(["border:"," solid white;border-bottom:none;border-top-left-radius:10px 10px;padding:8px;font-weight:",";"],function(e){return e.selected?"2px":"1px"},function(e){return e.selected?"600":"400"}),ee=["s\xe9lection","animation"],ei=function(){var e=(0,d.useState)(80),i=e[0],t=e[1],n=(0,d.useState)(80),r=n[0],s=n[1],o=(0,d.useState)({}),c=o[0],a=o[1],l=(0,d.useState)(ee[0]),u=l[0],f=l[1],g=(0,d.useCallback)(function(e){return f(e)},[f]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(z.Z,{}),(0,m.jsxs)(A,{children:[(0,m.jsx)(h.Z,{}),(0,m.jsx)(Q,{children:(0,p.map)(ee,function(e){return(0,m.jsx)($,{selected:(0,p.isEqual)(e,u),onClick:function(){return g(e)},children:(0,p.capitalize)(e)})})}),(0,p.isEqual)(u,"s\xe9lection")&&(0,m.jsx)(E,{width:i,height:r,sprites:c,updateWidth:t,updateHeight:s,updateSprites:a}),(0,p.isEqual)(u,"animation")&&(0,m.jsx)(D,{sprites:c})]})]})}},7851:function(e,i,t){"use strict";t(6486);var n=(0,t(605).Jq)({s:"577px",m:"769px",l:"993px",xl:"1401px"});i.Z=n},5282:function(e,i,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sprite-slicer",function(){return t(4772)}])}},function(e){e.O(0,[662,976,476,603,754,774,888,179],function(){return e(e.s=5282)}),_N_E=e.O()}]);